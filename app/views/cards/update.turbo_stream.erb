<!-- カード名セクション全体を置き換える -->
<%= turbo_stream.replace "card-name-section" do %>
  <div id="card-name-section" data-controller="card-edit">
    <!-- 表示モード -->
    <div id="card-name-display" class="flex items-start gap-6 mb-4" data-card-edit-target="display">
      <h1 class="text-2xl font-bold text-primary"><%= @card.name %></h1>
      <!-- 編集アイコン（サイズ固定） -->
      <button class="shrink-0 text-primary hover:opacity-70 transition pt-1" data-action="click->card-edit#toggleForm">
        <%= render "shared/icon/form_icon_edit" %>
      </button>
    </div>

    <!-- 編集モード（非表示） -->
    <div id="card-name-form" class="hidden mb-4" data-card-edit-target="form">
      <%= form_with model: @card, local: true do |f| %>
        <div class="flex items-center gap-2">
          <%= f.text_field :name, class: "form-text-field flex-1", placeholder: t('cards.form.name_placeholder') %>
          <%= f.submit "保存", class: "btn-main px-4 py-2 w-auto" %>
          <button type="button" class="btn-sub w-auto px-2 py-1" data-action="click->card-edit#toggleForm">
            <p class="text-2xl">×</p>
          </button>
        </div>
      <% end %>
    </div>
  </div>
<% end %>
