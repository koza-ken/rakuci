<%# フラッシュメッセージを表示 %>
<%= turbo_stream.update "flash-container", partial: "shared/flash_messages", locals: { flash: flash } %>

<%# モーダルを閉じる（中身を空にする） %>
<%= turbo_stream.update "schedule-create-modal" %>

<%# 空状態メッセージを削除 %>
<%= turbo_stream.remove "schedules_empty_state" %>

<%# しおり一覧に作成したしおりを追加 %>
<%= turbo_stream.prepend "schedules_list", partial: "schedule", locals: { schedule: @schedule } %>

<%# ページタイトル（h1）を表示 %>
<%= turbo_stream.replace "schedules-page-title" do %>
  <h1 class="text-xl md:text-2xl text-text font-bold"><%= t('users.schedules.index.title') %></h1>
<% end %>

<%# FABボタンを表示 %>
<%= turbo_stream.replace "schedules-fab-container" do %>
  <div class="fixed bottom-22 right-4 md:right-6 lg:left-[calc(50%+412px)] lg:right-auto z-50" data-controller="modal">
    <%= link_to new_schedule_path, data: { turbo_frame: "schedule-create-modal", action: "click->modal#setGroupId", modal_target: "fab" },
                title: t('users.schedules.index.create_schedule'),
                class: "group bg-primary hover:opacity-80 text-text-light w-14 h-14 lg:w-18 lg:h-18 rounded-full shadow-lg hover:shadow-xl duration-300 flex items-center justify-center relative" do %>
      <%= render "shared/icon/add_schedule_icon", icon_class: "w-10 h-10 lg:w-12 lg:h-12" %>
    <% end %>
  </div>
<% end %>
