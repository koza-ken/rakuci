<!-- 削除モードのメンバーリストのみ更新（削除モード継続） -->
<%= turbo_stream.replace "members-list" do %>
  <div id="members-list" class="space-y-2 mb-4 max-h-[200px] overflow-y-auto border border-gray-300 rounded p-2 bg-white">
    <% @group.group_memberships.each do |membership| %>
      <div class="flex items-center justify-between p-2 hover:bg-gray-50 rounded">
        <span class="text-sm text-text"><%= membership.group_nickname %></span>
        <%= button_to group_group_membership_path(@group, membership), method: :delete, form_class: "inline", class: "btn-sub px-3 py-1 text-sm", data: { turbo_confirm: "#{membership.group_nickname}を削除しますか？" } do %>
          削除
        <% end %>
      </div>
    <% end %>
  </div>
<% end %>

<!-- 通常表示モードのメンバーカウント更新 -->
<%= turbo_stream.replace "member-display-count" do %>
  <div id="member-display-count">
    <%= label_tag :member, "#{t('groups.show.members')}（#{@group.group_memberships.count.to_s}名）", class: "text-sm font-medium text-text" %>
  </div>
<% end %>

<!-- 通常表示モードのテキストエリア更新 -->
<%= turbo_stream.replace "member-textarea" do %>
  <div id="member-textarea">
    <%= text_area_tag :member, @group.group_memberships.map(&:group_nickname).join("\n"), disabled: true, class: "form-text-field bg-gray-100 resize-none min-h-[120px]" %>
  </div>
<% end %>
