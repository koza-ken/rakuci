<!-- 背景オーバーレイ -->
<div class="absolute inset-0 bg-black/50 z-40 hidden" data-hamburger-target="overlay" data-action="click->hamburger#toggle"></div>


<!-- メニューパネル（ログイン状態で判定） -->
<nav class="absolute top-0 right-0 h-screen w-64 bg-white shadow-lg z-50 transition-transform duration-300 translate-x-full" data-hamburger-target="menu">
  <% if user_signed_in? %>
    <!-- ログイン後のメニュー -->
    <div class="px-6 py-6">
      <p class="text-text text-sm">ようこそ、<%= current_user.display_name || current_user.email.split('@').first %>さん</p>
    </div>
    <ul>
      <li class="border-b border-gray-200">
        <%= link_to cards_path, class: "flex items-center justify-between px-6 py-4 text-text hover:bg-gray-100 transition" do %>
          <span>カード一覧</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          </svg>
        <% end %>
      </li>
      <li class="border-b border-gray-200">
        <%= link_to groups_path, class: "flex items-center justify-between px-6 py-4 text-text hover:bg-gray-100 transition" do %>
          <span>グループ一覧</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          </svg>
        <% end %>
      </li>
      <li class="border-b border-gray-200">
        <%= link_to "#", class: "flex items-center justify-between px-6 py-4 text-text hover:bg-gray-100 transition" do %>
          <span>持ち物</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          </svg>
        <% end %>
      </li>
      <li class="border-b border-gray-200">
        <%= link_to "#", class: "flex items-center justify-between px-6 py-4 text-text hover:bg-gray-100 transition" do %>
          <span>ユーザー設定</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          </svg>
        <% end %>
      </li>
      <li class="mt-20">
        <%= link_to "#", class: "flex items-center justify-between px-6 py-2 text-text hover:bg-gray-100 transition" do %>
          <span>使い方</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          </svg>
        <% end %>
      </li>
      <li>
        <%= link_to "#", class: "flex items-center justify-between px-6 py-2 text-text hover:bg-gray-100 transition" do %>
          <span>利用規約</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          </svg>
        <% end %>
      </li>
      <li>
        <%= link_to "#", class: "flex items-center justify-between px-6 py-2 text-text hover:bg-gray-100 transition" do %>
          <span>プライバシーポリシー</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          </svg>
        <% end %>
      </li>
      <li>
        <%= link_to destroy_user_session_path, data: { turbo_method: :delete }, class: "flex items-center justify-between px-6 py-2 text-text hover:bg-gray-100 transition" do %>
          <span>ログアウト</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          </svg>
        <% end %>
      </li>
    </ul>
  <% else %>
    <!-- ログイン前のメニュー -->
    <div class="px-6 py-6">
      <p class="text-text text-sm">ようこそ</p>
    </div>
    <ul>
      <li class="border-b border-gray-200">
        <%= link_to new_user_session_path, class: "flex items-center justify-between px-6 py-4 text-text hover:bg-gray-100 transition" do %>
          <span>ログイン</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          </svg>
        <% end %>
      </li>
      <li class="mt-40">
        <%= link_to "#", class: "flex items-center justify-between px-6 py-2 text-text hover:bg-gray-100 transition" do %>
          <span>使い方</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          </svg>
        <% end %>
      </li>
      <li>
        <%= link_to "#", class: "flex items-center justify-between px-6 py-2 text-text hover:bg-gray-100 transition" do %>
          <span>利用規約</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          </svg>
        <% end %>
      </li>
      <li>
        <%= link_to "#", class: "flex items-center justify-between px-6 py-2 text-text hover:bg-gray-100 transition" do %>
          <span>プライバシーポリシー</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          </svg>
        <% end %>
      </li>
    </ul>
  <% end %>
</nav>
